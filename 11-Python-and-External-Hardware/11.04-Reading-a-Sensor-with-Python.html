

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Reading a Sensor with Python</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/mystnb.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="canonical" href="https://jupyterbook.org/11-Python-and-External-Hardware/11.04-Reading-a-Sensor-with-Python.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Summary" href="11.05-Summary.html" />
    <link rel="prev" title="Controlling an LED with Python" href="11.03-Controlling-an-LED.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">


<!-- Opengraph tags -->
<meta property="og:url"         content="https://jupyterbook.org/11-Python-and-External-Hardware/11.04-Reading-a-Sensor-with-Python.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Reading a Sensor with Python" />
<meta property="og:description" content="Reading a Sensor with Python  In this section, you will learn how to read a sensor connected to an external piece of hardware (an Arduino) with Python. To accom" />
<meta property="og:image"       content="https://jupyterbook.org/_static/logo.png" />

<meta name="twitter:card" content="summary">


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
  <li class="">
    <a href="../00-Preface/00.00-Motivation.html">Preface</a>
  </li>
  <li class="">
    <a href="../01-Orientation/01.00-Welcome.html">Orientation</a>
  </li>
  <li class="">
    <a href="../02-Jupyter-Notebooks/02.00-Introduction.html">Jupyter Notebooks</a>
  </li>
  <li class="">
    <a href="../03-The-Python-REPL/03.00-Introduction.html">The Python REPL</a>
  </li>
  <li class="">
    <a href="../04-Data-Types-and-Variables/04.00-Introduction.html">Data Types and Variables</a>
  </li>
  <li class="">
    <a href="../05-NumPy-and-Arrays/05.00-Introduction.html">NumPy and Arrays</a>
  </li>
  <li class="">
    <a href="../06-Plotting-with-Matplotlib/06.00-Introduction.html">Plotting with Matplotlib</a>
  </li>
  <li class="">
    <a href="../07-Functions-and-Modules/07.00-Introduction.html">Functions and Modules</a>
  </li>
  <li class="">
    <a href="../08-If-Else-Try-Except/08.00-Introduction.html">If Else Try Except</a>
  </li>
  <li class="">
    <a href="../09-Loops/09.00-Introduction.html">Loops</a>
  </li>
  <li class="">
    <a href="../10-Symbolic-Math/10.00-Introduction.html">Symbolic Math</a>
  </li>
  <li class="active">
    <a href="11.00-Introduction.html">Python and External Hardware</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="11.01-PySerial.html">PySerial</a>
    </li>
    <li class="">
      <a href="11.02-Bytes-and-Unicode-Strings.html">Bytes and Unicode Strings</a>
    </li>
    <li class="">
      <a href="11.03-Controlling-an-LED.html">Controlling an LED with Python</a>
    </li>
    <li class="active">
      <a href="">Reading a Sensor with Python</a>
    </li>
    <li class="">
      <a href="11.05-Summary.html">Summary</a>
    </li>
    <li class="">
      <a href="11.06-Project-Ideas.html">Project Ideas</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../12-MicroPython/12.00-Introduction.html">MicroPython</a>
  </li>
  <li class="">
    <a href="../99-Appendix/99.00-Appendix.html">Appendix</a>
  </li>
</ul>
</nav>

 <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse" data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation" title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i class="fas fa-download"></i></button>

            
            <div class="dropdown-buttons">
                <!-- ipynb file if we had a myst markdown file -->
                
                <!-- Download raw file -->
                <a class="dropdown-buttons" href="../_sources/11-Python-and-External-Hardware/11.04-Reading-a-Sensor-with-Python.md"><button type="button" class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip" data-placement="left">.md</button></a>
                <!-- Download PDF via print -->
                <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF" onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
            </div>
            
        </div>

        <!-- Source interaction buttons -->
        

        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->
        
    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#wire-the-sensor-to-the-arduino" class="nav-link">Wire the sensor to the Arduino</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#upload-code-to-the-arduino" class="nav-link">Upload code to the Arduino</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#connect-the-arduino-to-the-computer-and-upload-the-sketch" class="nav-link">Connect the Arduino to the computer and Upload the Sketch</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#check-the-sensor-signal" class="nav-link">Check the Sensor Signal</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#led-turns-on-and-off" class="nav-link">LED turns ON and OFF</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#arudino-serial-monitor" class="nav-link">Arudino Serial Monitor</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#arduino-serial-plotter" class="nav-link">Arduino Serial Plotter</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#use-the-python-repl-to-read-the-potentiometer-data" class="nav-link">Use the Python REPL to read the potentiometer data</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#write-a-python-script-to-read-the-sensor" class="nav-link">Write a Python script to read the sensor</a>
        </li>
    
    </ul>
</nav>


    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="reading-a-sensor-with-python">
<h1>Reading a Sensor with Python<a class="headerlink" href="#reading-a-sensor-with-python" title="Permalink to this headline">¶</a></h1>
<p>In this section, you will learn how to read a sensor connected to an external piece of hardware (an Arduino) with Python. To accomplish this, the following hardware is required:</p>
<ul class="simple">
<li><p>A computer running Python</p></li>
<li><p>An Arduino</p></li>
<li><p>A potentiometer (the sensor)</p></li>
<li><p>wires, a resistor, an LED, and a breadboard to connect the sensor to the Arduino</p></li>
<li><p>A USB cable to connect the Arduino to the computer</p></li>
</ul>
<p>You will also need to download the Arduino IDE (the Arduino Integrated Development Environment) using the following link as shown in the previous section:</p>
<blockquote>
<div><p>https://www.arduino.cc/en/Main/Software</p>
</div></blockquote>
<div class="section" id="wire-the-sensor-to-the-arduino">
<h2>Wire the sensor to the Arduino<a class="headerlink" href="#wire-the-sensor-to-the-arduino" title="Permalink to this headline">¶</a></h2>
<p>Connect the potentiometer sensor to the Arduino using a resistor, wires and a breadboard. The middle pin of the potentiometer is connected to pin A0 on the Arduino (green wire). Connect the LED to the Arduino. Note the long lead of the LED is connected to PIN13 on the Arduino (yellow wire) and the short lead of the LED is connected through a resistor to ground (black wire). If the LED is wired backward, the LED will not turn on.</p>
<p>In the hardware schematic, the blue square with an arrow on it is a potentiometer. The user knows when the sensor signal changes because the user manually turns the potentiometer dial.</p>
<p>The hardware schematic describes how to the Arduino, LED, resistor, and potentiometer are connected with jumper wires and a breadboard.</p>
<p><img alt="Arduino with potentiometer and LED on a breadboard" src="../_images/redboard_pot_led_fritzing.png" /></p>
</div>
<div class="section" id="upload-code-to-the-arduino">
<h2>Upload code to the Arduino<a class="headerlink" href="#upload-code-to-the-arduino" title="Permalink to this headline">¶</a></h2>
<p>Once the LED and potentiometer are hooked up the Arduino, upload the following code to the Arduino using the Arduino IDE. Note that Arduinos don’t use the Python programming language. The programming language used by Arduinos is a variant of the C programming language.</p>
<p>The Arduino sketch below (an Arduino program is called a sketch) accomplishes a couple things. First, the Arduino reads the potentiometer sensor value and stores the sensor value in the variable <code class="docutils literal notranslate"><span class="pre">sensorValue</span></code>. Next, the Arduino sends the sensor value over the serial line (as a byte string). Finally, <code class="docutils literal notranslate"><span class="pre">sensorValue</span></code> is compared to <code class="docutils literal notranslate"><span class="pre">500</span></code>. If <code class="docutils literal notranslate"><span class="pre">sensorValue</span></code> is less than <code class="docutils literal notranslate"><span class="pre">500</span></code>, the LED stays off. If <code class="docutils literal notranslate"><span class="pre">sensorValue</span></code> is greater than <code class="docutils literal notranslate"><span class="pre">500</span></code>, the LED turn on. The read-send-compare process repeats in a loop.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>// potentiometer_read.ino
// reads a potentiometer and sends value over serial
int sensorPin = A0;  // The potentiometer on pin 0                  
int ledPin = 13;     // The LED is connected on pin 13
int sensorValue;     // variable to stores data

void setup() // runs once when the sketch starts
{
  // make the LED pin (pin 13) an output pin
  pinMode(ledPin, OUTPUT);

  // initialize serial communication
  Serial.begin(9600);
}

void loop() // runs repeatedly after setup() finishes
{
  sensorValue = analogRead(sensorPin);  // read pin A0   
  Serial.println(sensorValue);         // send data to serial
  
  if (sensorValue &lt; 500) {            // less than 500?
    digitalWrite(ledPin, LOW); }     // Turn the LED off
  
  else {                               // greater than 500?
    digitalWrite(ledPin, HIGH); }     // Keep the LED on
  
  delay(100);             // Pause 100 milliseconds
}
</pre></div>
</div>
</div>
<div class="section" id="connect-the-arduino-to-the-computer-and-upload-the-sketch">
<h2>Connect the Arduino to the computer and Upload the Sketch<a class="headerlink" href="#connect-the-arduino-to-the-computer-and-upload-the-sketch" title="Permalink to this headline">¶</a></h2>
<p>Connect the Arduino to the computer with a USB cable. In the Arduino IDE select Tools –&gt; Board –&gt; Arduino/Genuino Uno. Upload the sketch to the Arduino. In the Arduino IDE, click the [check mark] to verify and the [arrow] to upload. If the sketch does not upload, check which <code class="docutils literal notranslate"><span class="pre">COM</span> <span class="pre">port</span></code> is selected in the Arduino IDE under Tools –&gt; Ports.</p>
<p><img alt="Arduino IDE Check to Verify" src="../_images/Check_to_Verify.png" /></p>
<p><img alt="Arduino IDE Arrow to Upload" src="../_images/Arrow_to_Upload.png" /></p>
</div>
<div class="section" id="check-the-sensor-signal">
<h2>Check the Sensor Signal<a class="headerlink" href="#check-the-sensor-signal" title="Permalink to this headline">¶</a></h2>
<p>To verify the Arduino sketch is working correctly, the sensor signal can be checked in three ways:</p>
<ul class="simple">
<li><p>The LED turns on and off as the potentiometer dial is rotated</p></li>
<li><p>In the Arudino <strong>Serial Monitor</strong>, numbers change as the potentiometer dial is rotated</p></li>
<li><p>In the Arduino <strong>Seral Plotter</strong>, the line moves as the potentiometer dial is rotated</p></li>
</ul>
<div class="section" id="led-turns-on-and-off">
<h3>LED turns ON and OFF<a class="headerlink" href="#led-turns-on-and-off" title="Permalink to this headline">¶</a></h3>
<p>The LED should turn on and off as the potentiometer is rotated. If the LED does not turn on and off when the potentiometer is rotated, make sure the potentiometer is turned back and forth through it’s full range of rotation. Also, ensure the USB cable is plugged into both the Arduino and the computer.</p>
</div>
<div class="section" id="arudino-serial-monitor">
<h3>Arudino Serial Monitor<a class="headerlink" href="#arudino-serial-monitor" title="Permalink to this headline">¶</a></h3>
<p>Access the Arduino <strong>Serial Monitor</strong> using Tools –&gt; Serial Monitor.</p>
<p><img alt="Select the Arduino Serial Monitor from the Tools Menus" src="../_images/Tools_SerialMonitor.png" /></p>
<p>If the Arduino sketch is working correctly, a running list of numbers is shown in the Arduino <strong>Serial Monitor</strong>. When the potentiometer is dialed back and forth, the numbers streaming down the <strong>Serial Monitor</strong> should change. The output in the Serial Monitor should be a running list of numbers between <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">1024</span></code>.</p>
<p>If a running list of numbers can’t be seen in the Arduino <strong>Serial Monitor</strong>, ensure [Auto Scroll], [Both NL &amp; CR] and [9600 baud] are selected. Also, make sure the <code class="docutils literal notranslate"><span class="pre">Port</span></code> is set correctly in the Arduino IDE under Tools –&gt; Port.</p>
<p><img alt="Arduino Serial Monitor Ouput" src="../_images/serial_monitor_output.png" /></p>
</div>
<div class="section" id="arduino-serial-plotter">
<h3>Arduino Serial Plotter<a class="headerlink" href="#arduino-serial-plotter" title="Permalink to this headline">¶</a></h3>
<p>To access the Arduino Serial Plotter, select Tools –&gt; Serial Monitor in the Arduino IDE. Note the Arduino Serial Monitor needs to be closed before the Arduino Serial Plotter can be opened. If the sketch is working correctly, potentiometer rotation produces a moving line on the Arduino Serial Plotter.</p>
<p><img alt="Arduino Serial Plotter Menu" src="../_images/Tools_SerialPlotter.png" /></p>
<p>The output of the Arduino Serial Plotter should be a running line graph. The height of the line on the graph should change as the potentiometer is dialed back and forth. If the Arduino Serial Plotter is blank, make sure [9600 baud] is selected in the lower right corner of the Serial Plotter. Also, make sure the <code class="docutils literal notranslate"><span class="pre">Port</span></code> has been set correctly in the Arduino IDE in Tools –&gt; Port.</p>
<p><img alt="Arudino Serial Plotter" src="../_images/serial_plotter_output.png" /></p>
</div>
</div>
<div class="section" id="use-the-python-repl-to-read-the-potentiometer-data">
<h2>Use the Python REPL to read the potentiometer data<a class="headerlink" href="#use-the-python-repl-to-read-the-potentiometer-data" title="Permalink to this headline">¶</a></h2>
<p>At the Python REPL, type the following commands. If the REPL prompt <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> precedes the command, type the command into the REPL. If the line does not start with a REPL prompt, this line represents expected output.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span># serial read using the Python REPL

&gt;&gt;&gt; import serial
&gt;&gt;&gt; import time
&gt;&gt;&gt; ser = serial.Serial(&#39;COM4&#39;,9600)
&gt;&gt;&gt; time.sleep(2)
&gt;&gt;&gt; b = ser.readline()
&gt;&gt;&gt; b
b&#39;409\r\n&#39;
&gt;&gt;&gt; type(b)
&lt;class &#39;bytes&#39;&gt;
&gt;&gt;&gt; str_rn = b.decode()
&gt;&gt;&gt; str_rn
&#39;409\r\n&#39;
&gt;&gt;&gt; str = str_rn.rstrip()
&gt;&gt;&gt; str
&#39;409&#39;
&gt;&gt;&gt; type(str)
&lt;class &#39;str&#39;&gt;
&gt;&gt;&gt; f = float(str)
&gt;&gt;&gt; f
409.0
&gt;&gt;&gt; type(f)
&lt;class &#39;float&#39;&gt;
&gt;&gt;&gt; ser.close()
&gt;&gt;&gt; exit()

</pre></div>
</div>
</div>
<div class="section" id="write-a-python-script-to-read-the-sensor">
<h2>Write a Python script to read the sensor<a class="headerlink" href="#write-a-python-script-to-read-the-sensor" title="Permalink to this headline">¶</a></h2>
<p>After the hardware is connected and the Arduino sketch is working correctly, you can construct a Python script to read the sensor value.</p>
<p>Communication between the Python script and the Arduino is accomplished using the PySerial package. Make sure PySerial is installed before the script is run.  See a previous section in this chapter on how to install the PySerial package.</p>
<p>At the top of the Python script, import the PySerial module. Note that although the package is called PySerial, use the line <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">serial</span></code> to import the package.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">serial</span>
<span class="kn">import</span> <span class="nn">time</span>
</pre></div>
</div>
<p>Next, set up the serial communication line with the Arduino. Ensure the port specified in the command <code class="docutils literal notranslate"><span class="pre">ser</span> <span class="pre">=</span> <span class="pre">serial.Serial('COM4',</span> <span class="pre">9600)</span></code> is the same <code class="docutils literal notranslate"><span class="pre">COM#</span></code> that was used in the Arduino IDE.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set up the serial line</span>
<span class="n">ser</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">Serial</span><span class="p">(</span><span class="s1">&#39;COM4&#39;</span><span class="p">,</span> <span class="mi">9600</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, code a loop runs for about 5 seconds while data is collected from the sensor. If it seems like the loop is stuck, press [Ctrl] + [c].</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read and record the data</span>
<span class="n">data</span> <span class="o">=</span><span class="p">[]</span>                       <span class="c1"># empty list to store the data</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span>
	<span class="n">b</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>         <span class="c1"># read a byte string</span>
        <span class="n">string_n</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>  <span class="c1"># decode byte string into Unicode  </span>
	<span class="n">string</span> <span class="o">=</span> <span class="n">string_n</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="c1"># remove \n and \r</span>
	<span class="n">flt</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>        <span class="c1"># convert string to float</span>
	<span class="nb">print</span><span class="p">(</span><span class="n">flt</span><span class="p">)</span>
	<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">flt</span><span class="p">)</span>           <span class="c1"># add to the end of data list</span>
	<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>            <span class="c1"># wait (sleep) 0.1 seconds</span>

<span class="n">ser</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>After the data is collected, the data can be displayed with the Python’s <code class="docutils literal notranslate"><span class="pre">print()</span></code> function and a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop. The output looks like the numbers in the Arduino <strong>Serial Monitor</strong>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># show the data</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
<p>The data can also be plotted with Matplotlib. The resulting plot looks like the line plot in the Arduino <strong>Serial Plotter</strong>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1"># if using a Jupyter notebook include</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time (seconds)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Potentiometer Reading&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Potentiometer Reading vs. Time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Run the entire script and twist the potentiometer. You should see the potentiometer values running by in the Python REPL command window.</p>
<p>After all the data is collected, you will see a plot like the one below.</p>
<p><img alt="Matplotlib plot of potentiometer readings recorded with an Arduino and PySerial" src="../_images/matplotlib_potentiometer_plot.png" /></p>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="11.03-Controlling-an-LED.html" title="previous page">Controlling an LED with Python</a>
    <a class='right-next' id="next-link" href="11.05-Summary.html" title="next page">Summary</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Peter D. Kazarinoff, PhD<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
  </body>
</html>